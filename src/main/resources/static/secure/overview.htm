<!DOCTYPE html>
<html>
    <body onload="request()">
        <h1>Account Overview:</h1>
        <h2>Checking:</h2>
        <h3><div id="checking">Balance: </div></h3>
        <p>Go to <a href="history.htm">Transaction History</a></p>

        <h2>Savings:</h2>
        <h3><div id="savings">Balance: </div></h3>
        <p>Go to <a href="history.htm">Transaction History</a></p>

        <form action="payment.htm">
            <input type="submit" value="Make A Payment">
        </form>
        <br>
        <button onclick="document.location='../login.htm'">Log Out</button>

        <script>
            function request() {
                var myObj, xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                        myObj = JSON.parse(this.responseText);
                        document.getElementById("checking").innerHTML += "$" + myObj[0].balance;
                        document.getElementById("savings").innerHTML += "$" + myObj[1].balance;
                    }
                };
                xhttp.open("GET", "/controller/overview", true);
                xhttp.send();
            }
        </script>
    </body>
</html>

<!--- todo:
thinking on making account stuff more interactive, like suntrust app kinda
transaction history need to go to proper account's history
--->
